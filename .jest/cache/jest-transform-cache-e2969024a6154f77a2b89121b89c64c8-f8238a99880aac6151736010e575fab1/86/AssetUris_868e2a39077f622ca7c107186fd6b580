0f28ec789829417d054b3c03ab905c36
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getFilename = getFilename;
exports.getFileExtension = getFileExtension;
exports.getManifestBaseUrl = getManifestBaseUrl;

var _urlParse = _interopRequireDefault(require("url-parse"));

function getFilename(url) {
  var _URL = new _urlParse.default(url, {}),
      pathname = _URL.pathname;

  return pathname.substring(pathname.lastIndexOf('/') + 1);
}

function getFileExtension(url) {
  var filename = getFilename(url);
  var dotIndex = filename.lastIndexOf('.');
  return dotIndex > 0 ? filename.substring(dotIndex) : '';
}

function getManifestBaseUrl(manifestUrl) {
  var urlObject = new _urlParse.default(manifestUrl, {});

  if (urlObject.protocol === 'exp:') {
    urlObject.set('protocol', 'http:');
  } else if (urlObject.protocol === 'exps:') {
    urlObject.set('protocol', 'https:');
  }

  var directory = urlObject.pathname.substring(0, urlObject.pathname.lastIndexOf('/') + 1);
  urlObject.set('pathname', directory);
  urlObject.set('query', '');
  urlObject.set('hash', '');
  return urlObject.href;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Bc3NldFVyaXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRU0sU0FBVSxXQUFWLENBQXNCLEdBQXRCLEVBQWlDO0FBQUEsYUFDaEIsSUFBSSxpQkFBSixDQUFRLEdBQVIsRUFBYSxFQUFiLENBRGdCO0FBQUEsTUFDN0IsUUFENkIsUUFDN0IsUUFENkI7O0FBRXJDLFNBQU8sUUFBUSxDQUFDLFNBQVQsQ0FBbUIsUUFBUSxDQUFDLFdBQVQsQ0FBcUIsR0FBckIsSUFBNEIsQ0FBL0MsQ0FBUDtBQUNEOztBQUVLLFNBQVUsZ0JBQVYsQ0FBMkIsR0FBM0IsRUFBc0M7QUFDMUMsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLEdBQUQsQ0FBNUI7QUFDQSxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsV0FBVCxDQUFxQixHQUFyQixDQUFqQjtBQUVBLFNBQU8sUUFBUSxHQUFHLENBQVgsR0FBZSxRQUFRLENBQUMsU0FBVCxDQUFtQixRQUFuQixDQUFmLEdBQThDLEVBQXJEO0FBQ0Q7O0FBYUssU0FBVSxrQkFBVixDQUE2QixXQUE3QixFQUFnRDtBQUNwRCxNQUFNLFNBQVMsR0FBRyxJQUFJLGlCQUFKLENBQVEsV0FBUixFQUFxQixFQUFyQixDQUFsQjs7QUFHQSxNQUFJLFNBQVMsQ0FBQyxRQUFWLEtBQXVCLE1BQTNCLEVBQW1DO0FBQ2pDLElBQUEsU0FBUyxDQUFDLEdBQVYsQ0FBYyxVQUFkLEVBQTBCLE9BQTFCO0FBQ0QsR0FGRCxNQUVPLElBQUksU0FBUyxDQUFDLFFBQVYsS0FBdUIsT0FBM0IsRUFBb0M7QUFDekMsSUFBQSxTQUFTLENBQUMsR0FBVixDQUFjLFVBQWQsRUFBMEIsUUFBMUI7QUFDRDs7QUFHRCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsUUFBVixDQUFtQixTQUFuQixDQUE2QixDQUE3QixFQUFnQyxTQUFTLENBQUMsUUFBVixDQUFtQixXQUFuQixDQUErQixHQUEvQixJQUFzQyxDQUF0RSxDQUFsQjtBQUNBLEVBQUEsU0FBUyxDQUFDLEdBQVYsQ0FBYyxVQUFkLEVBQTBCLFNBQTFCO0FBQ0EsRUFBQSxTQUFTLENBQUMsR0FBVixDQUFjLE9BQWQsRUFBdUIsRUFBdkI7QUFDQSxFQUFBLFNBQVMsQ0FBQyxHQUFWLENBQWMsTUFBZCxFQUFzQixFQUF0QjtBQUVBLFNBQU8sU0FBUyxDQUFDLElBQWpCO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVVJMIGZyb20gJ3VybC1wYXJzZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlbmFtZSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHsgcGF0aG5hbWUgfSA9IG5ldyBVUkwodXJsLCB7fSk7XG4gIHJldHVybiBwYXRobmFtZS5zdWJzdHJpbmcocGF0aG5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGZpbGVuYW1lID0gZ2V0RmlsZW5hbWUodXJsKTtcbiAgY29uc3QgZG90SW5kZXggPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAvLyBJZ25vcmUgbGVhZGluZyBkb3RzIGZvciBoaWRkZW4gZmlsZXNcbiAgcmV0dXJuIGRvdEluZGV4ID4gMCA/IGZpbGVuYW1lLnN1YnN0cmluZyhkb3RJbmRleCkgOiAnJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiYXNlIFVSTCBmcm9tIGEgbWFuaWZlc3QncyBVUkwuIEZvciBleGFtcGxlLCBnaXZlbiBhIG1hbmlmZXN0IGhvc3RlZCBhdFxuICogaHR0cHM6Ly9leGFtcGxlLmNvbS9hcHAvbWFuaWZlc3QuanNvbiwgdGhlIGJhc2UgVVJMIHdvdWxkIGJlIGh0dHBzOi8vZXhhbXBsZS5jb20vYXBwLy4gUXVlcnlcbiAqIHBhcmFtZXRlcnMgYW5kIGZyYWdtZW50cyBhbHNvIGFyZSByZW1vdmVkLlxuICpcbiAqIEZvciBhbiBFeHBvLWhvc3RlZCBwcm9qZWN0IHdpdGggYSBtYW5pZmVzdCBob3N0ZWQgYXQgaHR0cHM6Ly9leHBvLmlvL0B1c2VyL3Byb2plY3QvaW5kZXguZXhwLCB0aGVcbiAqIGJhc2UgVVJMIHdvdWxkIGJlIGh0dHBzOi8vZXhwby5pby9AdXNlci9wcm9qZWN0LlxuICpcbiAqIFdlIGFsc28gbm9ybWFsaXplIHRoZSBcImV4cFwiIHByb3RvY29sIHRvIFwiaHR0cFwiIHRvIGhhbmRsZSBpbnRlcm5hbCBVUkxzIHdpdGggdGhlIEV4cG8gc2NoZW1lcyB1c2VkXG4gKiB0byB0ZWxsIHRoZSBPUyB0byBvcGVuIHRoZSBVUkxzIGluIHRoZSB0aGUgRXhwbyBjbGllbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYW5pZmVzdEJhc2VVcmwobWFuaWZlc3RVcmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHVybE9iamVjdCA9IG5ldyBVUkwobWFuaWZlc3RVcmwsIHt9KTtcblxuICAvLyBDaGFuZ2UgdGhlIHNjaGVtZSB0byBodHRwKHMpIGlmIGl0IGlzIGV4cChzKVxuICBpZiAodXJsT2JqZWN0LnByb3RvY29sID09PSAnZXhwOicpIHtcbiAgICB1cmxPYmplY3Quc2V0KCdwcm90b2NvbCcsICdodHRwOicpO1xuICB9IGVsc2UgaWYgKHVybE9iamVjdC5wcm90b2NvbCA9PT0gJ2V4cHM6Jykge1xuICAgIHVybE9iamVjdC5zZXQoJ3Byb3RvY29sJywgJ2h0dHBzOicpO1xuICB9XG5cbiAgLy8gVHJpbSBmaWxlbmFtZSwgcXVlcnkgcGFyYW1ldGVycywgYW5kIGZyYWdtZW50LCBpZiBhbnlcbiAgY29uc3QgZGlyZWN0b3J5ID0gdXJsT2JqZWN0LnBhdGhuYW1lLnN1YnN0cmluZygwLCB1cmxPYmplY3QucGF0aG5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICB1cmxPYmplY3Quc2V0KCdwYXRobmFtZScsIGRpcmVjdG9yeSk7XG4gIHVybE9iamVjdC5zZXQoJ3F1ZXJ5JywgJycpO1xuICB1cmxPYmplY3Quc2V0KCdoYXNoJywgJycpO1xuXG4gIHJldHVybiB1cmxPYmplY3QuaHJlZjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=