b49ca5514cc3da394462d64477c82eb9
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getEmbeddedAssetUri = getEmbeddedAssetUri;

var _expoConstants = _interopRequireDefault(require("expo-constants"));

var FileSystem = _interopRequireWildcard(require("expo-file-system"));

var _PlatformUtils = require("./PlatformUtils");

var bundledAssets = new Set(FileSystem.bundledAssets || []);
var localAssets = (0, _PlatformUtils.getLocalAssets)();

function getEmbeddedAssetUri(hash, type) {
  var _localAssets$localAss;

  var localAssetsKey = hash + "." + (type != null ? type : '');

  if (!localAssets.hasOwnProperty(localAssetsKey) && !__DEV__) {
    var assetName = "asset_" + hash + (type ? "." + type : '');

    if (_expoConstants.default.appOwnership !== 'standalone' || !bundledAssets.has(assetName)) {
      return null;
    }

    return "" + FileSystem.bundleDirectory + assetName;
  }

  return (_localAssets$localAss = localAssets[localAssetsKey]) != null ? _localAssets$localAss : null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9FbWJlZGRlZEFzc2V0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7QUFHQSxJQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUosQ0FBUSxVQUFVLENBQUMsYUFBWCxJQUE0QixFQUFwQyxDQUF0QjtBQUdBLElBQU0sV0FBVyxHQUFHLG9DQUFwQjs7QUFNTSxTQUFVLG1CQUFWLENBQThCLElBQTlCLEVBQTRDLElBQTVDLEVBQStEO0FBQUE7O0FBQ25FLE1BQU0sY0FBYyxHQUFNLElBQU4sVUFBYyxJQUFkLFdBQWMsSUFBZCxHQUFzQixFQUF0QixDQUFwQjs7QUFDQSxNQUFJLENBQUMsV0FBVyxDQUFDLGNBQVosQ0FBMkIsY0FBM0IsQ0FBRCxJQUErQyxDQUFDLE9BQXBELEVBQTZEO0FBRzNELFFBQU0sU0FBUyxjQUFZLElBQVosSUFBbUIsSUFBSSxTQUFPLElBQVAsR0FBZ0IsRUFBdkMsQ0FBZjs7QUFDQSxRQUFJLHVCQUFVLFlBQVYsS0FBMkIsWUFBM0IsSUFBMkMsQ0FBQyxhQUFhLENBQUMsR0FBZCxDQUFrQixTQUFsQixDQUFoRCxFQUE4RTtBQUM1RSxhQUFPLElBQVA7QUFDRDs7QUFDRCxnQkFBVSxVQUFVLENBQUMsZUFBckIsR0FBdUMsU0FBdkM7QUFDRDs7QUFDRCxrQ0FBTyxXQUFXLENBQUMsY0FBRCxDQUFsQixvQ0FBc0MsSUFBdEM7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb25zdGFudHMgZnJvbSAnZXhwby1jb25zdGFudHMnO1xuaW1wb3J0ICogYXMgRmlsZVN5c3RlbSBmcm9tICdleHBvLWZpbGUtc3lzdGVtJztcblxuaW1wb3J0IHsgZ2V0TG9jYWxBc3NldHMgfSBmcm9tICcuL1BsYXRmb3JtVXRpbHMnO1xuXG4vLyBGYXN0IGxvb2t1cCBjaGVjayBpZiBhc3NldHMgYXJlIGF2YWlsYWJsZSBpbiB0aGUgbG9jYWwgYnVuZGxlIGluIG1hbmFnZWQgYXBwc1xuY29uc3QgYnVuZGxlZEFzc2V0cyA9IG5ldyBTZXQoRmlsZVN5c3RlbS5idW5kbGVkQXNzZXRzIHx8IFtdKTtcblxuLy8gbG9jYWxBc3NldHMgYXJlIHByb3ZpZGVkIGJ5IHRoZSBleHBvLXVwZGF0ZXMgbW9kdWxlXG5jb25zdCBsb2NhbEFzc2V0cyA9IGdldExvY2FsQXNzZXRzKCk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9jYWwgVVJJIG9mIGFuIGVtYmVkZGVkIGFzc2V0IGZyb20gaXRzIGhhc2ggYW5kIHR5cGUsIG9yIG51bGwgaWYgdGhlIGFzc2V0IGlzIG5vdFxuICogaW5jbHVkZWQgaW4gdGhlIGFwcCBidW5kbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbWJlZGRlZEFzc2V0VXJpKGhhc2g6IHN0cmluZywgdHlwZTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBsb2NhbEFzc2V0c0tleSA9IGAke2hhc2h9LiR7dHlwZSA/PyAnJ31gO1xuICBpZiAoIWxvY2FsQXNzZXRzLmhhc093blByb3BlcnR5KGxvY2FsQXNzZXRzS2V5KSAmJiAhX19ERVZfXykge1xuICAgIC8vIGNoZWNrIGxlZ2FjeSBsb2NhdGlvbiBpbiBjYXNlIHdlJ3JlIGluIEV4cG8gY2xpZW50L21hbmFnZWQgd29ya2Zsb3dcbiAgICAvLyBUT0RPKGVyaWMpOiByZW1vdmUgdGhpcyBvbmNlIGJ1bmRsZWRBc3NldHMgaXMgbm8gbG9uZ2VyIGV4cG9ydGVkIGZyb20gRmlsZVN5c3RlbVxuICAgIGNvbnN0IGFzc2V0TmFtZSA9IGBhc3NldF8ke2hhc2h9JHt0eXBlID8gYC4ke3R5cGV9YCA6ICcnfWA7XG4gICAgaWYgKENvbnN0YW50cy5hcHBPd25lcnNoaXAgIT09ICdzdGFuZGFsb25lJyB8fCAhYnVuZGxlZEFzc2V0cy5oYXMoYXNzZXROYW1lKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBgJHtGaWxlU3lzdGVtLmJ1bmRsZURpcmVjdG9yeX0ke2Fzc2V0TmFtZX1gO1xuICB9XG4gIHJldHVybiBsb2NhbEFzc2V0c1tsb2NhbEFzc2V0c0tleV0gPz8gbnVsbDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=